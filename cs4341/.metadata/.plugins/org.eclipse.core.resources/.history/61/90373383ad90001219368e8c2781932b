package project1;

import java.io.BufferedReader;
import java.io.FileReader;

import javax.script.*;

public class scriptDemo 
{
    public static void main(String[] args) throws Exception 
    {
    	String path = "..\\script.js";
    	
    	String importedScript = "";
    	
    	try  
    	{
    	    FileReader fstream = new FileReader(path);
    	    BufferedReader read = new BufferedReader(fstream);
    	    importedScript = read.readLine();
    	    
    	    read.close();
    	}
    	catch (Exception e)
    	{
    	    System.err.println("Error: " + e.getMessage());
    	}
    	
        // create a script engine manager
        ScriptEngineManager factory = new ScriptEngineManager();
        
        // create a JavaScript engine
        ScriptEngine engine = factory.getEngineByName("JavaScript");
        
        //define some javascript
        String javascript;
        javascript = "var wm = new Object();" +
        		"wm.banana = 'yellow';" +
        		"print(wm.banana);" +
        		"print('\\n');" +
        		"print(wm);";
        
        try{
	        // evaluate JavaScript code from String
	        engine.eval(javascript);
	        
	        //evaluate the javascript that we imported
	        engine.eval(importedScript);
        }catch(ScriptException e)
        {
        	System.err.println(e.getMessage());
        }
    }
}